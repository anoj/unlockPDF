<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Password Remover - Secure PDF Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
            text-decoration: none;
        }

        .logo-icon {
            font-size: 2rem;
            margin-right: 0.5rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-link {
            color: #2c3e50;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        .nav-link:hover, .nav-link.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        /* Rest of the existing styles remain the same... */
        /* Main Content */
        .main-wrapper {
            flex: 1;
            padding: 2rem 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 2rem;
            min-height: 70vh;
        }

        .sidebar-left, .sidebar-right {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            height: fit-content;
        }

        .sidebar-left h3, .sidebar-right h3 {
            color: white;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .sidebar-left p, .sidebar-right p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            color: rgba(255, 255, 255, 0.9);
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
        }

        .feature-list li::before {
            content: "‚úì";
            color: #27ae60;
            font-weight: bold;
            margin-right: 0.5rem;
            background: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .main-content {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .content-header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .content-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .content-header p {
            opacity: 0.9;
            font-size: 1.2rem;
        }

        .content-body {
            padding: 3rem;
        }

        .upload-section {
            border: 3px dashed #e0e0e0;
            border-radius: 15px;
            padding: 3rem;
            text-align: center;
            margin-bottom: 2rem;
            background: #fafafa;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upload-section:hover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .upload-section.dragover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: scale(1.02);
        }

        .upload-icon {
            font-size: 4rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .upload-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .upload-description {
            color: #7f8c8d;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .file-input {
            display: none;
        }

        .upload-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .upload-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .file-info {
            background: linear-gradient(45deg, #e8f4fd, #f0f8ff);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            display: none;
            border-left: 4px solid #667eea;
        }

        .file-name {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .file-size {
            color: #7f8c8d;
            font-size: 0.95rem;
        }

        .password-section {
            background: linear-gradient(45deg, #fff9e6, #fffbf0);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            border-left: 4px solid #f39c12;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.1rem;
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .process-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 18px 0;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .process-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
        }

        .process-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 2rem;
            display: none;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .download-section {
            background: linear-gradient(45deg, #e8f5e8, #f0fff0);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            display: none;
            border-left: 4px solid #27ae60;
        }

        .download-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3);
        }

        .success-message {
            color: #27ae60;
            font-weight: bold;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .error-message {
            background: #ffe6e6;
            color: #e74c3c;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            display: none;
            border-left: 4px solid #e74c3c;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 3rem 0 1rem;
            margin-top: auto;
        }

        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .footer-section p, .footer-section li {
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section a {
            color: #7f8c8d;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: #667eea;
        }

        .footer-bottom {
            border-top: 1px solid #e0e0e0;
            padding-top: 1rem;
            text-align: center;
            color: #7f8c8d;
        }

        .disclaimer {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            color: rgba(255, 255, 255, 0.9);
            border-left: 4px solid #f39c12;
        }

        .disclaimer h3 {
            color: white;
            margin-bottom: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .content-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .sidebar-left, .sidebar-right {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .nav-container {
                padding: 0 1rem;
                flex-direction: column;
                gap: 1rem;
            }

            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }

            .content-body {
                padding: 1.5rem;
            }

            .content-header {
                padding: 1.5rem;
            }

            .content-header h1 {
                font-size: 2rem;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .upload-section {
                padding: 1.5rem;
            }

            .upload-icon {
                font-size: 3rem;
            }

            .upload-btn, .process-btn, .download-btn {
                padding: 15px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="logo">
                <span class="logo-icon">üîì</span>
                PDF Tools Pro
            </a>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link active">Home</a></li>
                <li><a href="/tools" class="nav-link">Tools</a></li>
                <li><a href="#" class="nav-link">About</a></li>
                <li><a href="#" class="nav-link">Privacy</a></li>
                <li><a href="#" class="nav-link">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-wrapper">
        <div class="container">
            <div class="content-grid">
                <!-- Left Sidebar -->
                <div class="sidebar-left">
                    <h3>üöÄ Features</h3>
                    <ul class="feature-list">
                        <li>Remove PDF passwords instantly</li>
                        <li>Secure & private processing</li>
                        <li>No file size limits</li>
                        <li>Fast processing speed</li>
                        <li>Download immediately</li>
                        <li>No registration required</li>
                    </ul>

                    <h3 style="margin-top: 2rem;">üîí Security</h3>
                    <p>Your files are processed securely and automatically deleted after download. We never store your documents or passwords.</p>
                </div>

                <!-- Main Content -->
                <div class="main-content">
                    <div class="content-header">
                        <h1>üîì PDF Password Remover</h1>
                        <p>Remove passwords from your PDF documents safely and securely</p>
                    </div>

                    <div class="content-body">
                        <div class="upload-section" id="uploadSection">
                            <div class="upload-icon">üìÑ</div>
                            <h3 class="upload-title">Select or Drop Your PDF File</h3>
                            <p class="upload-description">Choose a password-protected PDF file to process</p>
                            <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
                                Choose PDF File
                            </button>
                            <input type="file" id="fileInput" class="file-input" accept=".pdf" onchange="handleFileSelect(this)">
                        </div>

                        <div class="file-info" id="fileInfo">
                            <div class="file-name" id="fileName"></div>
                            <div class="file-size" id="fileSize"></div>
                        </div>

                        <div class="error-message" id="errorMessage"></div>

                        <div class="password-section">
                            <div class="form-group">
                                <label for="currentPassword">üîê Current PDF Password:</label>
                                <input type="password" id="currentPassword" placeholder="Enter the current password for your PDF">
                            </div>

                            <button class="process-btn" id="processBtn" onclick="processFile()" disabled>
                                üöÄ Remove Password & Process File
                            </button>
                        </div>

                        <div class="progress-bar" id="progressBar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>

                        <div class="download-section" id="downloadSection">
                            <div class="success-message">‚úÖ Password removed successfully!</div>
                            <p style="margin-bottom: 20px;">Your PDF is now unlocked and ready for download.</p>
                            <a href="#" class="download-btn" id="downloadBtn" download="unlocked_document.pdf">
                                üì• Download Unlocked PDF
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar -->
                <div class="sidebar-right">
                    <h3>üìñ How it Works</h3>
                    <p>1. Upload your password-protected PDF</p>
                    <p>2. Enter the current password</p>
                    <p>3. Click process to remove password</p>
                    <p>4. Download your unlocked PDF</p>

                    <h3 style="margin-top: 2rem;">üí° Tips</h3>
                    <p>‚Ä¢ Make sure you have the correct password</p>
                    <p>‚Ä¢ Files are automatically deleted after 1 hour</p>
                    <p>‚Ä¢ Maximum file size is 50MB</p>
                    <p>‚Ä¢ Only PDF files are supported</p>

                    <h3 style="margin-top: 2rem;">üõ†Ô∏è More Tools</h3>
                    <p><a href="/tools" style="color: white; text-decoration: underline;">Explore all PDF tools ‚Üí</a></p>
                </div>
            </div>

            <div class="disclaimer">
                <h3>‚ö†Ô∏è Important Notice</h3>
                <p>This tool is intended for legitimate use only. Please ensure you have the legal right to remove passwords from the PDF documents you process. Only use this service for documents you own or have explicit permission to modify. We do not store any files or passwords on our servers.</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>PDF Tools Pro</h3>
                    <p>Professional PDF processing tools for individuals and businesses. Secure, fast, and reliable PDF solutions at your fingertips.</p>
                    <p style="margin-top: 1rem;">¬© 2024 PDF Tools Pro. All rights reserved.</p>
                </div>
                <div class="footer-section">
                    <h3>Tools</h3>
                    <ul>
                        <li><a href="/">Remove Password</a></li>
                        <li><a href="/tools">All Tools</a></li>
                        <li><a href="#">Compress PDF</a></li>
                        <li><a href="#">Merge PDFs</a></li>
                        <li><a href="#">Split PDF</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Bug Report</a></li>
                        <li><a href="#">Feature Request</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                        <li><a href="#">GDPR</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Built with ‚ù§Ô∏è for secure and efficient PDF processing. India</p>
            </div>
        </div>
    </footer>

    <script>
        let selectedFile = null;

        // Drag and drop functionality
        const uploadSection = document.getElementById('uploadSection');

        uploadSection.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadSection.classList.add('dragover');
        });

        uploadSection.addEventListener('dragleave', () => {
            uploadSection.classList.remove('dragover');
        });

        uploadSection.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadSection.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        });

        function handleFileSelect(input) {
            if (input.files.length > 0) {
                handleFile(input.files[0]);
            }
        }

        function handleFile(file) {
            if (file.type !== 'application/pdf') {
                showError('Please select a PDF file.');
                return;
            }

            if (file.size > 50 * 1024 * 1024) { // 50MB limit
                showError('File size too large. Please select a file under 50MB.');
                return;
            }

            selectedFile = file;
            displayFileInfo(file);
            document.getElementById('processBtn').disabled = false;
            hideError();
        }

        function displayFileInfo(file) {
            document.getElementById('fileName').textContent = file.name;
            document.getElementById('fileSize').textContent = formatFileSize(file.size);
            document.getElementById('fileInfo').style.display = 'block';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        function hideError() {
            document.getElementById('errorMessage').style.display = 'none';
        }

        async function processFile() {
            const password = document.getElementById('currentPassword').value.trim();

            if (!selectedFile) {
                showError('Please select a PDF file first.');
                return;
            }

            if (!password) {
                showError('Please enter the current password.');
                return;
            }

            // Show progress bar
            document.getElementById('progressBar').style.display = 'block';
            document.getElementById('processBtn').disabled = true;

            // Start progress animation
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 2;
                if (progress <= 90) {
                    document.getElementById('progressFill').style.width = progress + '%';
                }
            }, 100);

            try {
                const formData = new FormData();
                formData.append('pdf_file', selectedFile);
                formData.append('password', password);

                const response = await fetch('/api/remove-password', {
                    method: 'POST',
                    body: formData
                });

                clearInterval(progressInterval);
                document.getElementById('progressFill').style.width = '100%';

                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        document.getElementById('downloadBtn').href = '/api/download/' + result.file_id;
                        document.getElementById('downloadBtn').download = 'unlocked_' + selectedFile.name;
                        showDownloadSection();
                    } else {
                        throw new Error(result.error || 'Failed to process PDF');
                    }
                } else {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Failed to process PDF');
                }

            } catch (error) {
                clearInterval(progressInterval);
                document.getElementById('progressBar').style.display = 'none';
                document.getElementById('processBtn').disabled = false;
                showError('Error: ' + error.message);
            }
        }

        function showDownloadSection() {
            document.getElementById('downloadSection').style.display = 'block';
            document.getElementById('progressBar').style.display = 'none';

            // Smooth scroll to download section
            document.getElementById('downloadSection').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                if (link.getAttribute('href').startsWith('#')) {
                    e.preventDefault();
                }
            });
        });
    </script>
</body>
</html>